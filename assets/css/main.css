        /* --- 1. Scrollbar Styles (For a clean, custom look) --- */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-thumb {
            background-color: #A7C49D; /* Matcha Green */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-track {
            background-color: #e6e6e6; /* Base background */
        }
        
        /* --- 2. Base Typography and Background (Light Mode Defaults) --- */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F5F5F5; /* Muji Light Background */
            transition: background-color 0.3s, color 0.3s; /* Smooth transition for theme change */
            /* FIX: Remove horizontal scrollbar */
            overflow-x: hidden;
        }
        
        /* --- 3. Neomorphic Base Styles (Light Mode Defaults) --- */
        .neuo-card {
            background: #F5F5F5;
            box-shadow: 8px 8px 16px #e0e0e0, -8px -8px 16px #ffffff;
            transition: all 0.3s ease-in-out, background 0.3s, box-shadow 0.3s;
        }
        .neuo-card:hover {
            transform: translateY(-2px);
            box-shadow: 12px 12px 24px #d1d1d1, -12px -12px 24px #ffffff;
        }
        .neuo-button {
            background: #F5F5F5;
            box-shadow: 4px 4px 8px #e0e0e0, -4px -4px 8px #ffffff;
            transition: all 0.3s ease-in-out, background 0.3s, box-shadow 0.3s;
        }
        .neuo-button:active {
            box-shadow: inset 2px 2px 5px #c4c4c4, inset -2px -2px 5px #ffffff;
            transform: translateY(1px);
        }
        .neuo-active-inner {
            box-shadow: inset 4px 4px 8px #d1d1d1, inset -4px -4px 8px #ffffff;
            color: #A7C49D;
            font-weight: 600;
        }

        /* --- 5. Sepia Mode Overrides --- */
        .sepia-mode {
            /* Sepia Color Variables */
            --bg-base: #F0EAD6; /* Sepia Background */
            --color-text: #5C4033; /* Dark Brown Text */
            --color-text-sub: #7A635B;
            --color-divider: #DCD7C4;
            --color-shadow-light: #F7F3E6;
            --color-shadow-dark: #D4CDBC;
        }

        .sepia-mode body {
            background-color: var(--bg-base);
            color: var(--color-text);
        }
        .sepia-mode .text-gray-800 { color: var(--color-text); }
        .sepia-mode .text-gray-700 { color: var(--color-text); }
        .sepia-mode .text-gray-500 { color: var(--color-text-sub); }
        .sepia-mode .border-gray-200 { border-color: var(--color-divider); }
        .sepia-mode .text-bamboo-accent { color: var(--color-text); }
        .sepia-mode .text-matcha-green { color: var(--color-text); } 
        .sepia-mode .neuo-card, .sepia-mode .neuo-button { background: var(--bg-base); }
        .sepia-mode .neuo-card,
        .sepia-mode .neuo-button {
            box-shadow: 8px 8px 16px var(--color-shadow-dark), -8px -8px 16px var(--color-shadow-light);
        }
        .sepia-mode .neuo-button:active,
        .sepia-mode .neuo-active-inner {
            box-shadow: inset 4px 4px 8px var(--color-shadow-dark), inset -4px -4px 8px var(--color-shadow-light);
        }
        .sepia-mode ::-webkit-scrollbar-track {
             background-color: var(--bg-base);
        }


        /* ----------------------------------------------- */
        /* --- 6. Dark Mode Overrides --- */
        .dark-mode {
            /* Dark Color Variables */
            --bg-base: #2C2C2C; /* Dark background */
            --color-text: #E0E0E0; /* Light text */
            --color-text-sub: #A0A0A0; /* Subdued light text */
            --color-divider: #3A3A3A; /* Darker divider */
            --color-shadow-light: #383838; /* Darker shadow for 'lift' effect */
            --color-shadow-dark: #202020; /* Lighter shadow for 'lift' effect */
            --color-shadow-inner-light: #353535; /* Shadow for 'press' effect */
            --color-shadow-inner-dark: #252525; /* Shadow for 'press' effect */
        }
        
        /* Apply Dark Mode Variables */
        .dark-mode body {
            background-color: var(--bg-base);
            color: var(--color-text); /* Ensures body text is light */
        }
        /* FIX: Ensure specific text classes also become light and sidebar colors are correct */
        .dark-mode .text-gray-800 { color: var(--color-text); }
        .dark-mode .text-gray-700 { color: var(--color-text); }
        .dark-mode .text-gray-500 { color: var(--color-text-sub); }
        .dark-mode .border-gray-200 { border-color: var(--color-divider); }
        /* BUG FIX: Ensure accent colors remain green for contrast in dark mode */
        .dark-mode .text-bamboo-accent,
        .dark-mode .text-matcha-green { color: #A7C49D; } 
        
        .dark-mode .neuo-card,
        .dark-mode .neuo-button {
            background: var(--bg-base);
            box-shadow: 8px 8px 16px var(--color-shadow-dark), -8px -8px 16px var(--color-shadow-light);
        }
        .dark-mode .neuo-card:hover {
            box-shadow: 12px 12px 24px var(--color-shadow-dark), -12px -12px 24px var(--color-shadow-light);
        }
        .dark-mode .neuo-button {
            box-shadow: 4px 4px 8px var(--color-shadow-dark), -4px -4px 8px var(--color-shadow-light);
        }
        .dark-mode .neuo-button:active {
            box-shadow: inset 2px 2px 5px var(--color-shadow-inner-dark), inset -2px -2px 5px var(--color-shadow-inner-light);
        }
        .dark-mode .neuo-active-inner {
            box-shadow: inset 4px 4px 8px var(--color-shadow-inner-dark), inset -4px -4px 8px var(--color-shadow-inner-light);
        }
        .dark-mode ::-webkit-scrollbar-track {
             background-color: #3A3A3A;
        }
        /* ----------------------------------------------- */
        /* --- 7. Theme Slider (Custom Styling) --- */

        #theme-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 12px;
            margin: 0;
            padding: 0;
            cursor: pointer;
            background: #A7C49D; /* Match line color to accent */
            border-radius: 6px;
            /* Neumorphic inset effect for the track */
            box-shadow: inset 1px 1px 3px #94af89, inset -1px -1px 3px #c4d9bd;
        }
        
        /* Light/Sepia/Dark Mode Track appearance */
        .dark-mode #theme-slider {
            background: #3A3A3A;
            box-shadow: inset 1px 1px 3px #202020, inset -1px -1px 3px #444444;
        }
        .sepia-mode #theme-slider {
            background: #DCD7C4;
            box-shadow: inset 1px 1px 3px #D4CDBC, inset -1px -1px 3px #F7F3E6;
        }

        /* Thumb (Dragger Circle) */
        #theme-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #F5F5F5;
            /* Neumorphic 'outie' thumb */
            box-shadow: 3px 3px 6px #d1d1d1, -3px -3px 6px #ffffff;
            transition: background 0.3s, box-shadow 0.3s;
        }

        /* Dark Mode Thumb */
        .dark-mode #theme-slider::-webkit-slider-thumb {
            background: #2C2C2C;
            box-shadow: 3px 3px 6px #202020, -3px -3px 6px #383838;
        }
        /* Sepia Mode Thumb */
        .sepia-mode #theme-slider::-webkit-slider-thumb {
            background: #F0EAD6;
            box-shadow: 3px 3px 6px #D4CDBC, -3px -3px 6px #F7F3E6;
        }
